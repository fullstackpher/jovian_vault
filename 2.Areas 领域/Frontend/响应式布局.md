---
创建时间: 2026-01-18T14:36
更新时间: 2026-01-18T16:38
tags:
  - CSS
---
## 响应式设计和布局

- 在不同设备上正常使用
- 一般主要处理屏幕大小问题
- 主要方法：
	- 隐藏 + 折行 + 自适应空间
	- rem / viewport / media query

### 示例一
```html
<!DOCTYPE html>  
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <meta http-equiv="X-UA-Compatible" content="ie=edge">  
    <title>Title</title>  
    <style>  
        .container {  
            margin: 0 auto;  
            max-width: 800px;  
            display: flex;  
            border: 1px solid black;  
        }  
  
        .left {  
            display: flex;  
            width: 200px;  
            background: red;  
            margin: 5px;  
        }  
  
        @media (max-width: 640px) {  
            .left {  
                display: none;  
            }  
        }  
        .right {  
            display: flex;  
            flex: 1;  
            background: blue;  
            margin: 5px;  
        }  
    </style>  
</head>  
<body>  
<div class="container">  
    <div class="left">  
        这里是一些不重要的内容，比如友情链接、广告  
    </div>  
    <div class="right">  
        这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。这里是一些重要的内容，比如一篇文章，文章是整个页面的核心内容。  
    </div>  
</div>  
</body>  
</html>
```


### 示例二

```html
<!DOCTYPE html>  
<html lang="en">  
<head>  
  <meta charset="UTF-8">  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">  
  <meta http-equiv="X-UA-Compatible" content="ie=edge">  
  <title>responsive</title>  
  <style>  
    html{  
      font-size:20px;  
    }  
    .container{  
      margin:0 auto;  
      max-width:800px;  
      border:1px solid black;  
    }  
    .intro{  
      display: inline-block;  
      width:9rem;  
      height:9rem;  
      line-height: 9rem;  
      text-align: center;  
      border-radius: 4.5rem;  
      border:1px solid red;  
      margin:.3rem;  
    }  
    @media (max-width: 375px){  
      html{  
        font-size:24px;  
      }  
    }  
    @media (max-width: 320px){  
      html{  
        font-size:20px;  
      }  
    }  
    @media (max-width: 640px){  
      .intro{  
        margin:.3rem auto;  
        display: block;  
      }  
    }  
  
  </style>  
</head>  
<body>  
<div class="container">  
  <div class="intro">  
    介绍1  
  </div>  
  <div class="intro">  
    介绍2  
  </div>  
  <div class="intro">  
    介绍3  
  </div>  
  <div class="intro">  
    介绍4  
  </div>  
</div>  
</body>  
</html>
```


 **rem、viewport 和 media query** 在响应式布局设计中的角色、协作方式以及最佳实践。

这三个概念构成了响应式布局的三大支柱，它们分别解决不同层面的问题，协同工作。

---

### 1. Viewport（视口） - 布局的“画布”

**作用**：定义浏览器渲染页面的区域，控制页面的初始缩放和尺寸，是响应式设计的**基石**。没有正确的 viewport 设置，媒体查询和 rem 单位可能无法按预期工作。

**关键标签**：
```html
<meta name="viewport" content="width=device-width, initial-scale=1.0">
```
*   `width=device-width`：将视口宽度设置为设备屏幕的宽度（CSS像素单位）。这是最关键的一步。
*   `initial-scale=1.0`：设置初始缩放级别为 1（不缩放）。
*   `maximum-scale=1.0, user-scalable=no`（谨慎使用）：通常不建议禁用用户缩放，会影响可访问性。

**为什么重要**：如果没有这个设置，移动设备（如 iPhone）会默认以一个较大的桌面视口（如 980px）来渲染页面，然后缩小以适应屏幕，导致文字和元素看起来非常小，需要用户手动放大。

---

### 2. Media Query（媒体查询） - 布局的“指挥棒”

**作用**：根据设备的特定特征（如屏幕宽度、高度、方向、分辨率等）来应用不同的 CSS 样式规则。它是实现**布局断点**的主要工具。

**核心语法**：
```css
/* 方法1：在CSS文件中 */
@media (max-width: 768px) {
  /* 当屏幕宽度小于等于768px时应用的样式 */
  .container {
    flex-direction: column;
  }
  .sidebar {
    display: none;
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  /* 平板设备样式 */
}

/* 方法2：在HTML的<link>标签中 */
<link rel="stylesheet" media="(max-width: 480px)" href="mobile.css">
```

**常见的断点策略（基于主流设备）**：
*   **移动设备优先**（推荐）：默认样式为小屏幕，然后通过 `min-width` 逐渐增强。
    ```css
    /* 默认：移动设备样式 (小于 640px) */
    
    @media (min-width: 640px) { /* 小平板/大手机 */ }
    @media (min-width: 768px) { /* 平板 */ }
    @media (min-width: 1024px) { /* 桌面 */ }
    @media (min-width: 1280px) { /* 大桌面 */ }
    ```
*   **桌面优先**：使用 `max-width` 进行降级。

---

### 3. rem（Root Em）单位 - 尺寸的“缩放器”

**作用**：一个相对于**根元素（`<html>`）字体大小**的 CSS 长度单位。它提供了一种**全局缩放**的机制，使得所有使用 rem 的元素能按比例调整。

**计算**：`1rem = ` 根元素的 `font-size` 值（默认通常是 `16px`）。

**关键技巧**：为了方便计算，我们通常将 `<html>` 的 `font-size` 设置为 `62.5%`（即 `10px`，因为 `16px * 0.625 = 10px`）。这样，`1rem = 10px`，`1.6rem = 16px`，计算非常直观。
```css
html {
  font-size: 62.5%; /* 1rem = 10px */
}

body {
  font-size: 1.6rem; /* 16px */
}

.box {
  width: 30rem; /* 300px */
  padding: 2rem; /* 20px */
  margin-bottom: 1.5rem; /* 15px */
}
```

**rem 的响应式威力**：你可以结合媒体查询，在不同屏幕宽度下**改变根元素的 `font-size`**，从而让所有使用 rem 的元素**整体等比缩放**。
```css
html {
  font-size: 62.5%; /* 默认：10px */
}

@media (min-width: 768px) {
  html {
    font-size: 75%; /* 12px，所有rem元素放大1.2倍 */
  }
}

@media (min-width: 1024px) {
  html {
    font-size: 87.5%; /* 14px，所有rem元素放大1.4倍 */
  }
}

@media (min-width: 1280px) {
  html {
    font-size: 100%; /* 16px，所有rem元素放大1.6倍 */
  }
}
```

---

### 协同工作流程（最佳实践示例）

一个典型的、结合三者的响应式页面设置如下：

**1. HTML 头部的 Viewport 设置（必须）**
```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>响应式页面</title>
</head>
```

**2. CSS 中的全局设置与媒体查询**
```css
/* 1. 设置根字体大小，方便rem计算 */
html {
  font-size: 62.5%;
  box-sizing: border-box;
}

*, *::before, *::after {
  box-sizing: inherit;
}

body {
  font-size: 1.6rem; /* 16px */
  line-height: 1.5;
  margin: 0;
  font-family: sans-serif;
}

/* 2. 移动设备优先的默认样式 */
.container {
  width: 100%;
  padding: 0 1.5rem; /* 移动端内边距 */
  margin: 0 auto;
}

.main-content {
  width: 100%;
}

.sidebar {
  display: none; /* 移动端隐藏侧边栏 */
}

/* 3. 平板断点 (min-width: 768px) */
@media (min-width: 768px) {
  html {
    font-size: 70%; /* 轻微放大，可选 */
  }
  .container {
    max-width: 720px;
    padding: 0;
  }
  .sidebar {
    display: block; /* 显示侧边栏 */
    width: 25rem; /* 250px */
  }
  .main-with-sidebar {
    display: flex;
  }
}

/* 4. 桌面断点 (min-width: 1024px) */
@media (min-width: 1024px) {
  html {
    font-size: 75%;
  }
  .container {
    max-width: 960px;
  }
  .sidebar {
    width: 30rem; /* 300px */
  }
}

/* 5. 大桌面断点 (min-width: 1280px) */
@media (min-width: 1280px) {
  .container {
    max-width: 1200px;
  }
}
```

### 总结与建议

| 技术 | 解决的问题 | 使用场景 |
| :--- | :--- | :--- |
| **Viewport Meta Tag** | 确保页面在移动设备上以正确宽度渲染 | **每个页面都必须有** `width=device-width` |
| **Media Query** | 根据屏幕条件改变布局结构（如显示/隐藏、浮动、栅格） | 定义**布局断点**，改变组件排列方式 |
| **rem 单位** | 实现元素尺寸（内边距、外边距、字体大小等）的**等比缩放** | 用于 `padding`, `margin`, `font-size`, `width/height`（非布局核心） |

**现代补充**：对于纯布局（如定义行列结构），**CSS Grid** 和 **Flexbox** 已经可以解决大部分问题，它们本身具有很好的弹性。Media Query 用于在关键断点改变 Grid 或 Flex 的配置。而 **rem** 则更多地用于控制字体、间距等细节的全局缩放，确保视觉层次的一致性。

**工作流建议**：
1.  **永远先写 `<meta name="viewport">`**。
2.  采用**移动设备优先**的策略编写默认 CSS。
3.  使用 **Flexbox/Grid** 创建弹性布局容器。
4.  在关键宽度处设置 **媒体查询断点**，调整布局（如从单列变多列）。
5.  使用 **rem** 单位定义字体大小和大部分间距，实现可控的全局缩放。对于需要严格与容器相关的宽度，可以使用 **百分比** 或 **视口单位（vw/vh）**。
6.  使用**图片的 `max-width: 100%`** 和 **`srcset`** 属性实现图片响应式。
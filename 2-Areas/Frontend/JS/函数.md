---
创建时间: 2026-01-25T12:43
更新时间: 2026-01-25T15:28
tags:
  - JavaScript
---
### 认识函数

- 函数是某种特定功能代码的封装
- 默认情况下，**JavaScript引擎或浏览器已为我们提供一些已经实现好的函数**

- 函数使用包含两个步骤：
	- **声明函数** - 封装独立的功能
	- **调用函数** - 享受封装的结果

- 声明函数，在JavaScript中也叫**定义函数**
	- 声明函数的过程是**对某些功能的封装过程**
	- 在之后的开发中，我们会根据**自己的需求定义很多自定义的函数**

- 调用函数，**也叫函数调用**：
	- 调用函数是让已经存在的函数为我们所用
	- 这些函数可以是刚刚**自己封装好的某个功能函数**
	- 同时也可以去使用**默认提供的或其他第三方库定义好的函数**

- 函数的作用：
	- 在程序开发时，**使用函数可以提高编写效率以及代码的重用**

### 函数声明和调用

- 声明函数使用`function`关键字：这种写法叫函数的定义

```js
function 函数名() {
	// 函数封装的代码
}
```

> [!danger] 注意事项
> 1. 函数的**命名规则和变量的命名规则**是一样的
> 2. 函数要尽量做到**见名知意**（函数通常是一些行为【action】，所以使用动词会多些）
> 3. 函数定义完里面的代码是不会执行的，**函数必须调用才会执行**

- 调用函数通过`函数名()`即可：比如`test()`

### 函数的参数

- 函数的参数主要用于在调用函数时传递数据，将其复制给函数内部的局部变量，从而实现代码复用，逻辑动态化，数据处理和封装
- 函数参数分为形式参数（parameter）和实际参数（Argument）
	- 形参：函数定义式括号内列出的变量名
	- 实参：函数调用时实际传递的值

- 使用场景：
	- 数据传递与动态处理：将外部数据传入函数内部供计算或操作使用。
	- `function add(a,b) return a + b;`
	- 提高代码复用性：通过传递不同的参数值，同一个函数可以完成多种类似任务，避免代码冗余
	- 设置默认值：ES6允许在定义时为参数指定默认值。如果调用时未传入参数或传入undefined，函数会使用预设的默认值
	```js
	function sumArray(numbers = []) {
		let sum = 0;
		for (let i = 0; i < numbers.length; i++) {
			sum += numbers[i];
		}
		return sum;
	}
	sumArray(); // 如果不传数组的话，函数会使用默认的空数组，内部不会报错
	```
	- 处理不定数量的参数：
		- Arguments对象：在非箭头函数中，arguments是一个类数组对象，包含所有传入的实参，可用于处理不定参数
		- 剩余参数（Rest Parameters）使用...args语法将不确定数量的参数收集到一个真正的数组中
	- 引用传递（对象和数组）：传递对象或数组时，函数内部修改其属性会影响外部的实际数据

### 函数的返回值

- JS函数通过return语句将运算结果返回给调用者，一旦执行，立即终止函数运行。若未指定返回值或无return语句，函数默认返回undefined
- 返回值可以是任意类型的数据（数值，对象，函数等）是函数与外界交互的重要接口

- 核心要点：
	- 语法：`function name() {return value;}`
	- 终止函数：return之后的所有代码都不会被执行
	- 默认返回值：无return或return； **均返回undefined**
	- 用途：将计算结果复制给变量，用于链式调用或决定逻辑流（如return false，取消默认事件）


### 函数调用函数

> [!tip] 开发中，函数内可以调用另外的函数

```js
function bar() {}
function foo() {bar()}
foo() 
```

>[!danger] 注意事项
>1. 函数调用自己还有一个专业的名词，叫做递归（Recursion）
>2. 函数可以调用自己，但必须有**结束条件**，否则会产生无限调用，造成报错
>3. **Uncaught RangeError: Maximum call stack size exceeded**

> 使用场景

- 树形结构数据处理
	- 多级目录/菜单遍历：遍历后端返回的树形菜单数据，递归查找节点或生成导航菜单
	- DOM树遍历：在网页中遍历特定节点下的所有子元素，查找特定元素或修改样式
- 深拷贝
	- 当对象或数组嵌套层次极深时，使用递归函数遍历每一层，将所有属性及其子属性都拷贝到新的对象中，以避免引用传递带来的数据干扰
- 数据处理和转换
	- 扁平化数组：将多维数组转化为一维数组（例如`[1,[2,[3,4]]]`）转化为`[1,2,3,4]`
	- 查找节点：在复杂的嵌套JSON结构查找特定的键值对
- 分治法：如快速排序或归并排序

### 局部和全局变量

- 在JavaScript（ES5之前）中没有块级作用域的概念，但是函数可以定义自己的[[作用域]]
	- 作用域（scope）表示一些标识符的作用有效范围
	- 函数作用域表示在函数内部定义的变量，只在函数内部可以被访问到

> 全局变量（global variable）

- 在全局script元素中定义的变量，在定义之后任意范围内都可以被访问到

> 局部变量（local variable）

- 在函数内定义的变量，只有在函数内才能访问，这种变量叫局部变量


### 函数表达式

在 JavaScript 中，函数不是“神奇的语言结构”，而是一种特殊的值。

- 在JS中，函数本身也是一种对象，同时也可以通过`函数表达式`来定义函数
- 例如函数表达式（Function Expressions）

```js
var foo = function() {
	console.log('foo函数')
}
```

- 这里的function关键字后没有函数名（函数表达式允许省略函数名）

>[!tip] 无论函数如何被创建，函数都只是一个值（即对象类型）

> 函数声明 VS 函数表达式

- 语法不同
	- 函数声明：通过function关键字后跟着函数名来定义的，函数声明会被提升到当前作用域的顶部，就是说声明之前可以调用函数
	- 函数表达式：将函数赋值给一个变量，它可以是匿名的，也可以是具名的

### 函数的头等公民


### 立即执行函数